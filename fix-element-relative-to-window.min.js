$.fn.fixElementRelativeToWindow=function(o){function t(){var o=$(document).scrollLeft();if(o>=r){var t=o-c+n.customOffsetLeft;s.css("left",-t)}}function e(){if(n.fromOffsetTop)var o=$(document).scrollTop()-l;else if(n.fromOffsetBottom)var o=$(document).scrollTop()-$(document).height()+n.elemOffsetBottom;s.css("top",-o)}function f(){var o=$(document).scrollTop()+$(window).outerHeight()-s.outerHeight();s.css("top",-o)}function i(){n.horizontal&&t(),n.vertical&&e(),n.stickToBottom&&f()}var n=$.extend({horizontal:!1,vertical:!1,fromOffsetTop:!1,fromOffsetBottom:!1,stickToBottom:!1,customOffsetLeft:0,elemOffsetBottom:0},o),s=this,c=s.offset().left,r=0,l=s.offset().top;$(window).scroll(function(){n.horizontal&&t(),n.vertical&&e(),n.stickToBottom&&f()}),$(window).on("resize",function(o){t()}),i()};